NAME
    WebService::HealthGraph - A thin wrapper around the Runkeeper (Health
    Graph) API

VERSION
    version 0.000001

SYNOPSIS
        my $graph = WebService::HealthGraph->new(
            debug => 1,
            token => 'foo',
        );

        my $user = $graph->user;

        use Data::Printer;
        p $user->content;

        # Fetch a weight feed

        use DateTime ();
        use URI::FromHash qw( uri );

        my $cutoff = DateTime->now->subtract( days => 7 );

        my $uri = uri(
            path  => '/weight',
            query => { noEarlierThan => $cutoff->ymd },
        );

        my $feed = $graph->get($uri, { feed => 1 });
        p $feed->content;

  get( $url, $optional_args )
    This module will try to do the right thing with the minimum amount of
    information:

        my $weight_response = $graph->get( 'weight', { feed => 1 } );
        if ( $weight_response->success ) {
            ...
        }

    Optionally, you can provide your own Accept (or other) headers:

        my $record_response = $graph->get(
            'records',
            {
                headers =>
                    { Accept => 'application/vnd.com.runkeeper.Records+json' }
            );

DESCRIPTION
    BETA BETA BETA. The interface is subject to change.

    This is a very thin wrapper around the Runkeeper (Health Graph) API. At
    this point it assumes that you already have an OAuth token to connect
    with. You can use Mojolicious::Plugin::Web::Auth::Site::Runkeeper to
    create a token. If that doesn't suit you, patches to add OAuth token
    retrieval to this module will be happily accepted.

CAVEATS
    Most response content will contain a "HashRef", but the "records"
    endpoint returns a response with an "ArrayRef" in the content.

AUTHOR
    Olaf Alders <olaf@wundercounter.com>

COPYRIGHT AND LICENSE
    This software is copyright (c) 2016 by Olaf Alders.

    This is free software; you can redistribute it and/or modify it under
    the same terms as the Perl 5 programming language system itself.

